<?xml version="1.0"?>
<launch>
    <param name="/use_sim_time" value="false" /> <!--Should be set to true in gazebo_ros package empty_world.launch-->

    <arg name="world_name" default="world/empty.world" doc="Specifies the map the robot will be spawned in"/>
    <arg name="paused" default="false" doc="Starts gazebo in paused mode" />
    <arg name="gui" default="true" doc="Starts gazebo gui" />

    <!-- Startup Gazebo with simulated world -->
    <include file="$(find gazebo_ros)/launch/empty_world.launch">
        <arg name="world_name" default="$(arg world_name)"/>
        <arg name="paused" value="$(arg paused)"/>
        <arg name="gui" value="$(arg gui)"/>
    </include>

    <!--Launch rviz-->
    <node type="rviz" name="rviz" pkg="rviz" args="-d $(find mir_navigation)/rviz/navigation.rviz"/>

    <!--Launch robot(s) into the world-->
    <include file="$(find mir_ur5_description)/launch/spawn_robots.launch"/>


    <!--Could be fix for tf to map problem-->
    <arg name="map_file" default="$(find mir_gazebo)/maps/pp_test_5.yaml" doc="Path to a map .yaml file (required)." />
  
    <node name="static_map_server" pkg="map_server" type="map_server" args="$(arg map_file)" ns="/" output="screen">
        <param name="frame_id" type="string" value="/map"/>
    </node>
</launch>